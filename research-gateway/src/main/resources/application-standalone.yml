# 无 Nacos 时使用：网关直接转发到固定地址，不依赖服务发现
# 启动方式：mvn spring-boot:run -DskipTests -Dspring.profiles.active=standalone
spring:
  cloud:
    gateway:
      routes:
        - id: research-auth
          uri: http://localhost:8081
          predicates:
            - Path=/api/auth/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
              args:
                ignorePaths: /api/auth/login, /api/auth/captcha, /api/auth/register
        - id: research-user
          uri: http://localhost:8086
          predicates:
            - Path=/api/user/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
        - id: research-project
          uri: http://localhost:8082
          predicates:
            - Path=/api/project/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
        - id: research-task
          uri: http://localhost:8083
          predicates:
            - Path=/api/task/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
        - id: research-document
          uri: http://localhost:8084
          predicates:
            - Path=/api/document/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
        - id: research-search
          uri: http://localhost:8087
          predicates:
            - Path=/api/search/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter
        - id: research-notification
          uri: http://localhost:8088
          predicates:
            - Path=/api/notification/**
          filters:
            - StripPrefix=1
            - name: JwtAuthFilter